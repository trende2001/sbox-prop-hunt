@using Sandbox;
@using Sandbox.UI;
@using Sandbox.UI.Construct; 
@using System;
@namespace MyGame
@inherits Panel

<style>
	.health {
		position:absolute;
		bottom:32px;
		left:32px;
		gap:16px;
	} 
	.seg {
		font-size: 79px;
    	background-color: rgba(0, 0, 0, 0.3);
    	border-radius: 7px;
    	padding-right: 30px;
		color: white;
		font-weight: 600;
		font-family: Nexa-Heavy;
	}
	.image {
		width: 47px;
		height: 47px;
	}
</style>

<root class="health">  
	@if (Game.LocalPawn.LifeState == LifeState.Alive)
	{
		<div class="seg">
			<img class="image" src="ui/icon/health-icon.png" style="margin: 36px"/>
			@Math.Round(Game.LocalPawn.Health)
		</div>
	}
</root> 

@code {
	protected override int BuildHash()
	{ 
		return HashCode.Combine(Math.Round(Game.LocalPawn.Health), Game.LocalPawn.LifeState);
	}
}